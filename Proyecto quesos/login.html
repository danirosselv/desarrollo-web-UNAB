<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Iniciar sesión — Queso & Sabor</title>
<style>
  body{margin:0;font-family:system-ui;background:#f6f7f9;color:#1f2937}
  .wrap{max-width:960px;margin:auto;padding:10px}
  header,section{background:#fff;border:1px solid #e5e7eb;border-radius:10px;padding:12px;margin-bottom:12px}
  header{display:flex;justify-content:space-between}
  .btn{border:1px solid #e5e7eb;border-radius:8px;padding:8px 12px;text-decoration:none;color:inherit}
  form{display:grid;gap:8px;max-width:420px;margin-top:12px}
  input{width:100%;padding:10px 12px;border:1px solid #e5e7eb;border-radius:8px}
  .row{display:flex;gap:8px;margin-top:8px}
  .msg{margin-top:8px;color:#7f1d1d}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <a class="btn" href="index.html">← Tienda</a>
    <div>Queso & Sabor</div>
    <a class="btn" href="registro.html">Crear cuenta</a>
  </header>

  <section>
    <h2>Iniciar sesión</h2>
    <form id="form">
      <input id="email" type="email" placeholder="Correo">
      <input id="pass" type="password" placeholder="Contraseña">
      <div class="row">
        <button class="btn" type="submit">Ingresar</button>
        <a class="btn" href="registro.html">Registrarse</a>
      </div>
      <div id="msg" class="msg"></div>
    </form>
  </section>
</div>

<script>
const $form = document.getElementById("form")
const $msg = document.getElementById("msg")

$form.addEventListener("submit", e => {
  e.preventDefault()
  const email = document.getElementById("email").value.trim()
  const pass = document.getElementById("pass").value.trim()
  
  if(!email || !pass){ 
    $msg.textContent = "Ingresa correo y contraseña"
    return 
  }

  const users = JSON.parse(localStorage.getItem("qs_users") || "[]")
  const user = users.find(u => u.email === email && u.pass === pass)
  
  if(user){
    localStorage.setItem("qs_session", JSON.stringify({
      email: user.email,
      nombre: user.nombre
    }))
    location.href = "index.html"
  }else{
    $msg.textContent = "Credenciales incorrectas"
  }
})
</script>
</body>
</html>